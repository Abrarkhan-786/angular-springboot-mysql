<div class="form-container">
    <h1 class="mt-5 heading">File Upload Demo</h1>
    <form [formGroup]="myForm" (ngSubmit)="upload()" >
        <div class="mb-3">
            <label for="formFile" class="form-label" style="font-size: 1rem; font-weight: 600;">Upload File</label>
            <input (change)="onFileChange($event)" class="form-control" type="file" id="formFile" formControlName="file">
        </div>
        <div >
            <img [src]="getSantizeUrl(imageSrc)" *ngIf="imageSrc" style="height: 200px; width:350px">
        </div>
        <div class="text-center mt-2">
            <button type="submit" [disabled]="myForm.invalid" class="btn btn-primary shadow-sm p-3 mb-5  rounded cursor-pointer" >Upload <i class="fa-solid fa-1x fa-cloud"></i></button>
        </div>
      </form>

      <div class="mt-3 mb-4 scroll" *ngIf="files.length>0">
        <table class="fileTable">
          <thead class="shadow-lg p-3 mb-5 bg-white rounded">
            <tr>
              <th>File Preview</th>
              <th>File Name</th>
              <th>File Type</th>
              <th id="action">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let file of files">
                <td> <img [src]="getSantizeUrl(file?.filePreview)" *ngIf="file?.filePreview" style="height: 100px; width:100px"></td>
                <td>{{file.fileName}}</td>
                <td>{{file.fileType}}</td>
                <td style="">
                   <i class="fa-solid fa-2x fa-trash ml-3 mb-2 text-danger cursor-pointer" (click)="deleteFile(file.id)"></i>
                   <i class="fa-solid fa-2x fa-download cursor-pointer ml-3 text-primary" (click)="downloadFile(file.id)"></i>
                </td>
              </tr>
          </tbody>
        </table>
      </div>
</div>